<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Mis Pedidos</title>
<!-- Core theme CSS (includes Bootstrap)-->
<link th:href="@{/css/styles.css}" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
</head>
<body>
<nav th:replace="/fragments/header.html :: header"></nav>
<h1 class="text-dark text-center">Mis Pedidos</h1>
<div class="container t-container" style="margin-bottom:25px">
<table class="table table-dark table-striped" style="margin-top:20px; margin-bottom:100px;">
    <thead>
        <tr>
            <th>Direccion</th>
            <th>Fecha</th>
            <th>Metodo de pago</th>
            <th>Numero Factura</th>
            <th>Estado</th>
            <th>Total</th>
            <th>Detalles</th>
        </tr>
    </thead>
    <tbody>
        <tr th:each="pedido, iterStat : ${pedidos}">
            <!-- Direccion asociada al pedido, usando el mismo Ã­ndice para ambas listas -->
            <td th:text="${direcciones[iterStat.index].toString()}">Direccion</td> <!-- Direccion del pedido -->
            <td th:text="${pedido.fecha}">Fecha</td>
            <td th:text="${pedido.metodopago}">Metodo de pago</td>
            <td th:text="${pedido.numfactura}">Numero de factura</td>
            <td th:text="${pedido.estado}">Estado de pedido</td>
            <td th:text="${pedido.total}">Total</td>
            <td>
                <!-- Formulario para ver los detalles del pedido -->
                <form th:action="@{/verDetalle}" method="POST">
                    <input type="hidden" name="pedidoId" th:value="${pedido.id}">
                    <button type="submit" class="btn btn-primary">Ver Detalles</button>
                </form>
            </td>
        </tr>
    </tbody>
</table>
</div>
<footer th:replace="/fragments/footer.html :: footer"></footer>
<!-- Core theme JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- Core theme JS-->
<script src="js/scripts.js"></script>
</body>
</html>