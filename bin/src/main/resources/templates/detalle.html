<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Detalle</title>
<!-- Core theme CSS (includes Bootstrap)-->
<link th:href="@{/css/styles.css}" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
</head>
<body>
<nav th:replace="/fragments/header.html :: header"></nav>
<div class="container t-container">
	<table class="table table-dark table-striped" style="margin-top:20px; margin-bottom:20px;">
    <thead>
        <tr>
            <th>Nombre del producto</th>
            <th>Unidades</th>
            <th>Precio unidad</th>
            <th>Impuesto</th>
            <th>Total</th>
        </tr>
    </thead>
    <tbody>
        <!-- Iterar sobre los productos y los detalles por el mismo Ã­ndice -->
        <tr th:each="producto, iterStat : ${productos}">
		    <!-- Mostrar el nombre del producto (desde la lista de productos) -->
		    <td th:text="${producto}">Nombre del producto</td>
		    <!-- Mostrar los detalles asociados (desde la lista de detalles) -->
		    <td th:text="${detalles[iterStat.index].unidades}">Unidades</td>
		    <td th:text="${detalles[iterStat.index].preciounidad}">Precio unidad</td>
		    <td th:text="${detalles[iterStat.index].impuesto}">Impuesto</td>
		    <td></td>
		</tr>
        <!-- Fila para el total del pedido -->
        <tr>
            <td colspan="4" class="text-right">Total del pedido:</td>
            <td th:text="${total}">Total Pedido</td>
        </tr>
        <tr>
        	<td colspan="2" class="text-right"></td>
        	<td colspan="1">
				<form th:action="@{/cancelarPedido}" method="POST">
					<input type="hidden" name="pedidoId" th:value="${idPedido}">
					<button type="submit" class="btn btn-primary" >Cancelar</button>
				</form>
			</td>
			<td colspan="2" class="text-right"></td>
        </tr>
    </tbody>
</table>
<p style="color:red" th:if="${error}" th:text="${error}"></p>
</div>
<footer th:replace="/fragments/footer.html :: footer"></footer>
<!-- Core theme JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- Core theme JS-->
<script src="js/scripts.js"></script>
</body>
</html>